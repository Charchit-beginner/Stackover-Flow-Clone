{% extends "layout.html" %} {% block headcss %}
<style>
    .change {
        position: relative;
        bottom: 0;
        left: 0;
        right: 0;
        top: -56px;
        background: #535a60;
        color: var(--white);
        text-align: center;
        top: -38px;
        width: 199px;
    }
</style>
{% endblock %} {% block body %}
{% with messages = get_flashed_messages(with_categories=True) %}
{% if messages %}
{% for cat,message in messages %}
<div class="alert alert-{{cat}} alert-dismissible fade show" role="alert">
  {{message}}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

{% endfor %}
{% endif %}
{% endwith %}
<div class="container">
    <form
        action="{{url_for('edit_profile', name=session['user'])}}"
        method="post"
        enctype="multipart/form-data">
        <div class="row">
            <div class="col" style="display: grid;">
                <img
                    src="{{user.pic|url_of_img}}"
                    alt="Profile Image"
                    height="200"
                    width="200"
                    class="border border-primary"
                />
                <label for="image_inp">
                    <p type="button" class="change btn btn-secondary">Change picture</p>
                </label>
                <input type="file" name="pic" id="image_inp" style="display: none;" />
            </div>
            <div class="col">
                
                <div class="form-group">
                    <label for="location">Location</label>
                    <input
                        type="text"
                        name="location"
                        id="location"
                        value="{{user.location}}"
                        class="form-control"
                        aria-describedby="emailHelp"
                    />
                </div>
                <div class="form-group">
                    <label for="title">Title</label>
                    <input
                        type="text"
                        name="title"
                        id="title"
                        value = "{{user.title}}"
                        class="form-control"
                        aria-describedby="emailHelp"/>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="form-group" style="width: 100%;">
                <label for="exampleFormControlTextarea1">About Me</label>
                <textarea
                    name="about"
                    class="form-control"
                    id="mytextarea"
                    rows="6"
                    style="margin: 10px; border-radius: 10px;">
                    {{user.about}}</textarea>
            </div>
        </div>

        <div class="form-group row" style="justify-content: space-between;">
            <div class="col" style="padding: 10px;">
                <label for="ex1">Website link</label>
                <input class="form-control" value="{{user.website_link}}" name="website" id="ex1" type="text" />
            </div>
            <div class="col" style="padding: 10px;">
                <label for="ex2">Twitter Link</label>
                <input class="form-control" id="ex2" value="{{user.twitter}}" name="twitter" type="text" />
            </div>
            <div class="col" style="padding: 10px;">
                <label for="ex3">LinkedIn link</label>
                <input class="form-control" id="ex3" value="{{user.linkedin}}" type="text" name="linkedin" />
            </div>
            <div class="col" style="padding: 10px;">
                <label for="ex3">Github link</label>
                <input class="form-control" id="ex3" type="text" value="{{user.github_username}}" name="github" />
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>

{% endblock %}